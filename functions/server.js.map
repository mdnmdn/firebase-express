{"version":3,"sources":["../src/server.js"],"names":["app","use","json","urlencoded","extended","schema","endpointURL","get","req","res","send","post","console","log","body","status"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;AASA;;;;AACA;;;;AAEA;;;;;;AAVA;AACA,MAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;AACAF,IAAIC,GAAJ,CAAQ,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;;AAQAJ,IAAIC,GAAJ,CAAQ,GAAR;AACAD,IAAIC,GAAJ,CAAQ,WAAR;;AAEA;AACAD,IAAIC,GAAJ,CAAQ,UAAR,EAAoB,qBAAWC,IAAX,EAApB,EAAuC,yCAAe,EAAEG,wBAAF,EAAf,CAAvC;;AAEA;AACAL,IAAIC,GAAJ,CAAQ,WAAR,EAAqB,0CAAgB,EAAEK,aAAa,UAAf,EAAhB,CAArB;;AAGA;;;;;;;;AAQAN,IAAIO,GAAJ,CAAQ,KAAR,EAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BA,MAAIC,IAAJ,CAAS,GAAT;AACD,CAFD;;AAIAV,IAAIW,IAAJ,CAAS,OAAT,EAAkB,CAACH,GAAD,EAAMC,GAAN,KAAc;AAC9BG,UAAQC,GAAR,CAAYL,IAAIM,IAAhB;AACAL,MAAIC,IAAJ,CAAS,EAACI,MAAMN,IAAIM,IAAX,EAAT;AACD,CAHD;;AAKAd,IAAIC,GAAJ,CAAQ,CAACO,GAAD,EAAMC,GAAN,KAAc;AACpBA,MAAIM,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB,wBAArB;AACA;AACD,CAHD;;QAOEV,G,GAAAA,G;;AAGF","file":"server.js","sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport { graphqlExpress, graphiqlExpress } from 'apollo-server-express';\n\n// based on https://codeburst.io/express-js-on-cloud-functions-for-firebase-86ed26f9144c\nconst app = express();\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\n\n\nimport homeController from './controllers/home';\nimport contactController from './controllers/contacts';\n\nimport schema from './graphql/schema';\n\napp.use('/', homeController);\napp.use('/contacts', contactController);\n\n// The GraphQL endpoint\napp.use('/graphql', bodyParser.json(), graphqlExpress({ schema }));\n\n// GraphiQL, a visual editor for queries\napp.use('/graphiql', graphiqlExpress({ endpointURL: '/graphql' }));\n\n\n/*\n(async () => {\n  const a = await dothings();\n  console.log(a);\n\n})();\n*/\n\napp.get(\"/hi\", (req, res) => {\n  res.send(\"i\")\n});\n\napp.post(\"/post\", (req, res) => {\n  console.log(req.body);\n  res.send({body: req.body});\n});\n\napp.use((req, res) => {\n  res.status(404).send(\"Sorry can't find that!\");\n  //res.redirect('/404.html');\n});\n\n\nexport {\n  app\n};\n\n//exports.app = functions.https.onRequest(app);\n\n"]}